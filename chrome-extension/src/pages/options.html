<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Web App Issue Reporter Settings</title>
  <link rel="stylesheet" href="../css/options.css">
</head>
<body>
  <div class="container">
    <h1>Web App Issue Reporter Settings</h1>
    
    <form id="config-form">
      <div class="section">
        <h2>Ollama Service Configuration</h2>
        <div class="form-group">
          <label for="ollama-base-url">Ollama Base URL:</label>
          <input type="text" id="ollama-base-url" required
                 placeholder="http://he808v7amke.sn.mynetname.net:28919">
          <div class="help-text">Base URL for Ollama services</div>
        </div>

        <div class="subsection">
          <h3>Endpoints</h3>
          <div class="form-group">
            <label for="ocr-endpoint">OCR Endpoint:</label>
            <input type="text" id="ocr-endpoint" required
                   placeholder="/api/generate">
          </div>
          <div class="form-group">
            <label for="analysis-endpoint">Analysis Endpoint:</label>
            <input type="text" id="analysis-endpoint" required
                   placeholder="/api/generate">
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Report Service Configuration</h2>
        <div class="form-group">
          <label for="report-base-url">Report Base URL:</label>
          <input type="text" id="report-base-url" required
                 placeholder="http://localhost">
          <div class="help-text">Base URL for report service</div>
        </div>
        <div class="form-group">
          <label for="report-endpoint">Report Endpoint:</label>
          <input type="text" id="report-endpoint" required
                 placeholder="/issue/report">
        </div>
      </div>

      <div class="section">
        <h2>Ollama Configuration</h2>
        <div class="subsection">
          <h3>Models</h3>
          <div class="form-group">
            <label for="ocr-model">OCR Model:</label>
            <input type="text" id="ocr-model" required
                   placeholder="minicpm-v:8b">
          </div>
          <div class="form-group">
            <label for="analysis-model">Analysis Model:</label>
            <input type="text" id="analysis-model" required
                   placeholder="deepseek-r1:32b">
          </div>
        </div>

        <div class="subsection">
          <h3>Model Options</h3>
          <div class="form-group">
            <label for="temperature">Temperature:</label>
            <input type="number" id="temperature" required
                   min="0" max="1" step="0.1" value="0.7">
            <div class="help-text">Controls randomness (0-1)</div>
          </div>
          <div class="form-group">
            <label for="top-p">Top P:</label>
            <input type="number" id="top-p" required
                   min="0" max="1" step="0.1" value="0.9">
            <div class="help-text">Controls diversity (0-1)</div>
          </div>
          <div class="form-group">
            <label for="timeout">Request Timeout (seconds):</label>
            <input type="number" id="timeout" required
                   min="10" max="300" value="60">
            <div class="help-text">Maximum time to wait for model response</div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>Storage Settings</h2>
        <div class="form-group">
          <label for="max-issues">Maximum Issues:</label>
          <input type="number" id="max-issues" required
                 min="10" max="100" value="50">
          <div class="help-text">Maximum number of issues to store</div>
        </div>
        <div class="form-group">
          <label for="max-logs">Maximum Logs:</label>
          <input type="number" id="max-logs" required
                 min="100" max="5000" value="1000">
          <div class="help-text">Maximum number of log entries to keep</div>
        </div>
      </div>

      <div class="section">
        <h2>UI Settings</h2>
        <div class="form-group">
          <label for="refresh-interval">Refresh Interval (seconds):</label>
          <input type="number" id="refresh-interval" required
                 min="5" max="300" value="30">
          <div class="help-text">How often to refresh the history view</div>
        </div>
        <div class="form-group">
          <label for="screenshot-quality">Screenshot Quality:</label>
          <input type="number" id="screenshot-quality" required
                 min="0.1" max="1" step="0.1" value="0.8">
          <div class="help-text">Quality of captured screenshots (0.1-1)</div>
        </div>
        <div class="form-group">
          <label for="max-screenshot-size">Max Screenshot Size (pixels):</label>
          <input type="number" id="max-screenshot-size" required
                 min="1024" max="4096" step="256" value="2048">
          <div class="help-text">Maximum dimension for screenshots</div>
        </div>
      </div>

      <div id="status" class="status"></div>

      <div class="button-container">
        <button type="button" id="test-connection" class="test-button">Test Connection</button>
        <button type="button" id="reset" class="reset-button">Reset to Defaults</button>
        <button type="submit" id="save" class="save-button">Save Settings</button>
      </div>
    </form>
  </div>

  <script type="module" src="../js/options.js"></script>
</body>
</html> 